"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doesReferenceContain = doesReferenceContain;

var _referenceHelpers = require("./referenceHelpers");

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Tests if a given reference is contained within another given reference.
 *
 *
 * @param {string} refToSearch - formats such as “2:4-5”, “2:3a”, “2-3b-4a”, “2:7,12”, “7:11-8:2”, "6:15-16;7:2", "2-3", "2:7ff"
 * @param {string} refSearchTerm - formats such as “2:4”, “2:3a”, "1:9999", "2:1-3", "2:12-4:1", 1:2-3:2 (supports verse ranges, not chapter range or 'ff')
 * @param {string} strict - flag to determine if entire range of refSearchTerm should be contained in refToSearch. Default false
 * @returns {boolean} - true if refSearchTerm exists within refToSearch, false if otherwise
 */
function doesReferenceContain(refToSearch, refSearchTerm) {
  var strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var verseChunksToSearch = (0, _referenceHelpers.parseReferenceToList)(refToSearch);
  var refSearchChunks = (0, _referenceHelpers.parseReferenceToList)(refSearchTerm);

  var _iterator = _createForOfIteratorHelper(refSearchChunks),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var searchChunk = _step.value;

      if (doChunksContainChunk(verseChunksToSearch, searchChunk, strict)) {
        if (!strict) return true;
      } else {
        if (strict) return false;
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  return strict ? true : false;
}

function doChunksContainChunk(verseChunks, searchChunk, strict) {
  var _iterator2 = _createForOfIteratorHelper(verseChunks),
      _step2;

  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var verseChunk = _step2.value;

      if (searchChunk.endVerse) {
        if (chunkContainsVerseRange(verseChunk, searchChunk, strict)) {
          return true;
        }
      } else {
        if (chunkContainsVerse(verseChunk, searchChunk.chapter, searchChunk.verse)) {
          return true;
        }
      }
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }

  return false;
}
/**
 * @private
 * Tests if a specific verse chunk contains a specific verse
 *
 * @param {{chapter, verse, endChapter, endVerse}} verseChunk
 *
 * @param {string} searchChapter
 * @param {string} searchVerse
 * @returns {boolean} - true if verse chunk contains verse, false if otherwise
 */


function chunkContainsVerse(verseChunk, searchChapter, searchVerse) {
  if (!verseChunk.endChapter) {
    if (searchChapter === verseChunk.chapter) {
      if (verseChunk.verse) {
        if (!verseChunk.endVerse) {
          return searchVerse === verseChunk.verse;
        } else {
          if (verseChunk.endVerse === 'ff') {
            return verseChunk.verse <= searchVerse;
          } else {
            return verseChunk.verse <= searchVerse && searchVerse <= verseChunk.endVerse;
          }
        }
      } else return true;
    } else return false;
  } else {
    if (verseChunk.chapter <= searchChapter && searchChapter <= verseChunk.endChapter) {
      if (verseChunk.verse) {
        if (searchChapter === verseChunk.chapter) {
          return searchVerse >= verseChunk.verse;
        } else if (searchChapter === verseChunk.endChapter) {
          return searchVerse <= verseChunk.endVerse;
        } else return true;
      } else return true;
    } else return false;
  }
}
/**
 * @private
 * Tests if a specific verse chunk contains a specific verse range
 *
 * @param {{chapter, verse, endChapter, endVerse}} verseChunkToSearch - Verse chunk that we will search for searchChunk within
 * @param {{chapter, verse, endChapter, endVerse}} searchChunk - Verse range chunk we are checking is to be contained within verseChunkToSearch
 * @param {boolean} strict - Flag to determine if search chunk should be FULLY contained verseChunkToSearch.
 * @returns {boolean} - true if verse range is contained within a reference, false otherwise.
 */


function chunkContainsVerseRange(verseChunk, searchChunk, strict) {
  if (!verseChunk.endChapter) {
    if (searchChunk.endChapter) {
      return chapterRangeContainedInChapter(verseChunk, searchChunk, strict);
    }

    return chapterVerseRangeContainedInChapter(verseChunk, searchChunk, strict);
  } else {
    if (searchChunk.endChapter) {
      return chapterRangeContainedInChapterRange(verseChunk, searchChunk, strict);
    } else if (verseChunk.chapter <= searchChunk.chapter && searchChunk.chapter <= verseChunk.endChapter) {
      return chapterVerseRangeContainedInChapterRange(verseChunk, searchChunk, strict);
    }

    return false;
  }
}
/**
 * @private
 * Checks to see if chapter range (i.e 1:2-3:6 || 4:6-8:2) is contained within chapter verse range (i.e 1:3-7 || 3:7-12)
 *
 * @param {{chapter, verse, endVerse}} chapter - Verse chunk that represents a chapter verse range (i.e 1:3-7 || 3:7-12)
 * @param {{chapter, verse, endChapter, endVerse}} searchChapterRange - Verse chunk that represents a chapter range (i.e 1:2-3:6 || 4:6-8:2)
 * @param {boolean} strict - Flag to determine if chapter range should be FULLY contained within chapter verse range.
 * @returns {boolean} - true if chapter range is within chapter, false otherwise
 */


function chapterRangeContainedInChapter(chapter, searchChapterRange) {
  var strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (strict) {
    return false;
  } else {
    if (searchChapterRange.endChapter < chapter.chapter || searchChapterRange.chapter > chapter.chapter) {
      return false;
    }

    if (searchChapterRange.endChapter === chapter.chapter) {
      if (!chapter.verse) {
        return true;
      }

      if (!chapter.endVerse && searchChapterRange.endVerse < chapter.verse) {
        return false;
      }

      if (chapter.endVerse === 'ff') {
        return searchChapterRange.endVerse >= chapter.verse;
      }

      if (searchChapterRange.endVerse < chapter.verse) {
        return false;
      }

      return true;
    }

    if (searchChapterRange.chapter === chapter.chapter) {
      if (!chapter.verse) {
        return true;
      }

      if (!chapter.endVerse) {
        if (searchChapterRange.verse > chapter.verse) {
          return false;
        }

        return true;
      }

      if (chapter.endVerse === 'ff') {
        return true;
      }

      if (searchChapterRange.verse > chapter.endVerse) {
        return false;
      }

      return true;
    } else return true;
  }
}
/**
 * @private
 * Checks if chapter verse range (i.e 1:3-7 || 3:7-12) exists within another chapter verse range
 *
 * @param {{chapter, verse, endVerse}} chapterVerseRange - Verse chunk that represents a chapter verse range (i.e 1:3-7 || 3:7-12)
 * @param {{chapter, verse, endVerse}} searchRange - Verse chunk that represents a chapter verse range (i.e 1:3-7 || 3:7-12)
 * @param {boolean} strict - Flag to determine if chapter verse range should be FULLY contained within chapter verse range.
 * @returns {boolean} - true if chapter verse range is within chapter, false otherwise
 */


function chapterVerseRangeContainedInChapter(chapterVerseRange, searchRange) {
  var strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (searchRange.chapter === chapterVerseRange.chapter) {
    if (chapterVerseRange.verse) {
      if (!chapterVerseRange.endVerse) {
        if (strict) return false;

        if (searchRange.endVerse < chapterVerseRange.verse || searchRange.verse > chapterVerseRange.verse) {
          return false;
        }

        return true;
      }

      if (chapterVerseRange.endVerse === 'ff') {
        if (strict) {
          return chapterVerseRange.verse <= searchRange.verse;
        } else {
          return searchRange.endVerse >= chapterVerseRange.verse;
        }
      } else {
        if (strict) {
          return chapterVerseRange.verse <= searchRange.verse && searchRange.endVerse <= chapterVerseRange.endVerse;
        } else {
          // Search range is completely before or completely after chapter range to search
          if (searchRange.endVerse < chapterVerseRange.verse || searchRange.verse > chapterVerseRange.endVerse) {
            return false;
          } else return true;
        }
      }
    } else return true;
  } else return false;
}
/**
 * @private
 * Checks if chapter range (i.e 1:2-3:6 || 4:6-8:2) exists within another chapter range
 *
 * @param {{chapter, verse, endChapter, endVerse}} chapterRange - Verse chunk that represents a chapter range (i.e 1:2-3:6 || 4:6-8:2)
 * @param {{chapter, verse, endChapter, endVerse}} rangeSearchChunk - Verse chunk that represents a chapter range (i.e 1:2-3:6 || 4:6-8:2)
 * @param {boolean} strict - Flag to determine if chapter range should be FULLY contained within chapter range.
 * @returns {boolean} - true if chapter range is within chapter range, false otherwise
 */


function chapterRangeContainedInChapterRange(chapterRange, rangeSearchChunk) {
  var strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (strict) {
    if (chapterRange.chapter <= rangeSearchChunk.chapter && rangeSearchChunk.endChapter <= chapterRange.endChapter) {
      if (chapterRange.verse) {
        if (rangeSearchChunk.chapter === chapterRange.chapter && rangeSearchChunk.endChapter === chapterRange.endChapter) {
          return rangeSearchChunk.verse >= chapterRange.verse && rangeSearchChunk.endVerse <= chapterRange.endVerse;
        }

        if (rangeSearchChunk.chapter === chapterRange.chapter) {
          return rangeSearchChunk.verse >= chapterRange.verse;
        }

        if (rangeSearchChunk.endChapter === chapterRange.endChapter) {
          return rangeSearchChunk.endVerse <= chapterRange.endVerse;
        }

        return true;
      } else return true;
    }

    return false;
  } else {
    if (rangeSearchChunk.endChapter < chapterRange.chapter || rangeSearchChunk.chapter > chapterRange.endChapter) {
      return false;
    }

    if (rangeSearchChunk.endChapter === chapterRange.chapter) {
      if (!chapterRange.verse) {
        return true;
      }

      if (rangeSearchChunk.endVerse < chapterRange.verse) {
        return false;
      }
    }

    if (rangeSearchChunk.chapter === chapterRange.endChapter) {
      if (!chapterRange.verse) {
        return true;
      }

      if (rangeSearchChunk.verse > chapterRange.endVerse) {
        return false;
      }
    }

    return true;
  }
}
/**
 * @private
 * Checks if chapter verse range (i.e 1:3-7 || 3:7-12) exists within chapter range (i.e 1:2-3:6 || 4:6-8:2)
 *
 * @param {{chapter, verse, endChapter, endVerse}} chapterRange - Verse chunk that represents a chapter range (i.e 1:2-3:6 || 4:6-8:2)
 * @param {{chapter, verse, endVerse}} chapterSearchChunk - Verse chunk that represents a chapter verse range (i.e 1:3-7 || 3:7-12)
 * @param {boolean} strict - Flag to determine if chapter verse range should be FULLY contained within chapter range.
 * @returns {boolean} - true if chapter verse range is within chapter range, false otherwise
 */


function chapterVerseRangeContainedInChapterRange(chapterRange, chapterSearchChunk, strict) {
  if (strict) {
    if (chapterSearchChunk.chapter === chapterRange.chapter) {
      return chapterSearchChunk.verse >= chapterRange.verse;
    }

    if (chapterSearchChunk.chapter === chapterRange.endChapter) {
      return chapterSearchChunk.endVerse <= chapterRange.endVerse;
    }

    return true;
  } else {
    if (chapterSearchChunk.chapter > chapterRange.endChapter || chapterSearchChunk.chapter < chapterRange.chapter) {
      return false;
    }

    if (chapterSearchChunk.chapter === chapterRange.endChapter) {
      if (!chapterRange.verse) {
        return true;
      }

      if (chapterSearchChunk.verse > chapterRange.endVerse) {
        return false;
      }
    }

    if (chapterSearchChunk.chapter === chapterRange.chapter) {
      if (!chapterRange.verse) {
        return true;
      }

      if (chapterSearchChunk.endVerse < chapterRange.verse) {
        return false;
      }
    }

    return true;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb2VzUmVmZXJlbmNlQ29udGFpbiIsInJlZlRvU2VhcmNoIiwicmVmU2VhcmNoVGVybSIsInN0cmljdCIsInZlcnNlQ2h1bmtzVG9TZWFyY2giLCJwYXJzZVJlZmVyZW5jZVRvTGlzdCIsInJlZlNlYXJjaENodW5rcyIsInNlYXJjaENodW5rIiwiZG9DaHVua3NDb250YWluQ2h1bmsiLCJ2ZXJzZUNodW5rcyIsInZlcnNlQ2h1bmsiLCJlbmRWZXJzZSIsImNodW5rQ29udGFpbnNWZXJzZVJhbmdlIiwiY2h1bmtDb250YWluc1ZlcnNlIiwiY2hhcHRlciIsInZlcnNlIiwic2VhcmNoQ2hhcHRlciIsInNlYXJjaFZlcnNlIiwiZW5kQ2hhcHRlciIsImNoYXB0ZXJSYW5nZUNvbnRhaW5lZEluQ2hhcHRlciIsImNoYXB0ZXJWZXJzZVJhbmdlQ29udGFpbmVkSW5DaGFwdGVyIiwiY2hhcHRlclJhbmdlQ29udGFpbmVkSW5DaGFwdGVyUmFuZ2UiLCJjaGFwdGVyVmVyc2VSYW5nZUNvbnRhaW5lZEluQ2hhcHRlclJhbmdlIiwic2VhcmNoQ2hhcHRlclJhbmdlIiwiY2hhcHRlclZlcnNlUmFuZ2UiLCJzZWFyY2hSYW5nZSIsImNoYXB0ZXJSYW5nZSIsInJhbmdlU2VhcmNoQ2h1bmsiLCJjaGFwdGVyU2VhcmNoQ2h1bmsiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvaGVscGVycy9kb2VzUmVmZXJlbmNlQ29udGFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVJlZmVyZW5jZVRvTGlzdCB9IGZyb20gJy4vcmVmZXJlbmNlSGVscGVycydcblxuLyoqXG4gKiBUZXN0cyBpZiBhIGdpdmVuIHJlZmVyZW5jZSBpcyBjb250YWluZWQgd2l0aGluIGFub3RoZXIgZ2l2ZW4gcmVmZXJlbmNlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVmVG9TZWFyY2ggLSBmb3JtYXRzIHN1Y2ggYXMg4oCcMjo0LTXigJ0sIOKAnDI6M2HigJ0sIOKAnDItM2ItNGHigJ0sIOKAnDI6NywxMuKAnSwg4oCcNzoxMS04OjLigJ0sIFwiNjoxNS0xNjs3OjJcIiwgXCIyLTNcIiwgXCIyOjdmZlwiXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVmU2VhcmNoVGVybSAtIGZvcm1hdHMgc3VjaCBhcyDigJwyOjTigJ0sIOKAnDI6M2HigJ0sIFwiMTo5OTk5XCIsIFwiMjoxLTNcIiwgXCIyOjEyLTQ6MVwiLCAxOjItMzoyIChzdXBwb3J0cyB2ZXJzZSByYW5nZXMsIG5vdCBjaGFwdGVyIHJhbmdlIG9yICdmZicpXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaWN0IC0gZmxhZyB0byBkZXRlcm1pbmUgaWYgZW50aXJlIHJhbmdlIG9mIHJlZlNlYXJjaFRlcm0gc2hvdWxkIGJlIGNvbnRhaW5lZCBpbiByZWZUb1NlYXJjaC4gRGVmYXVsdCBmYWxzZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiByZWZTZWFyY2hUZXJtIGV4aXN0cyB3aXRoaW4gcmVmVG9TZWFyY2gsIGZhbHNlIGlmIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZG9lc1JlZmVyZW5jZUNvbnRhaW4ocmVmVG9TZWFyY2gsIHJlZlNlYXJjaFRlcm0sIHN0cmljdCA9IGZhbHNlKSB7XG4gIGNvbnN0IHZlcnNlQ2h1bmtzVG9TZWFyY2ggPSBwYXJzZVJlZmVyZW5jZVRvTGlzdChyZWZUb1NlYXJjaCk7XG4gIGNvbnN0IHJlZlNlYXJjaENodW5rcyA9IHBhcnNlUmVmZXJlbmNlVG9MaXN0KHJlZlNlYXJjaFRlcm0pO1xuXG4gIGZvciAoY29uc3Qgc2VhcmNoQ2h1bmsgb2YgcmVmU2VhcmNoQ2h1bmtzKSB7XG4gICAgaWYgKGRvQ2h1bmtzQ29udGFpbkNodW5rKHZlcnNlQ2h1bmtzVG9TZWFyY2gsIHNlYXJjaENodW5rLCBzdHJpY3QpKSB7XG4gICAgICBpZiAoIXN0cmljdCkgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdHJpY3QpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cmljdCA/IHRydWUgOiBmYWxzZTsgXG59XG5cbmZ1bmN0aW9uIGRvQ2h1bmtzQ29udGFpbkNodW5rKHZlcnNlQ2h1bmtzLCBzZWFyY2hDaHVuaywgc3RyaWN0KSB7XG4gIGZvciAoY29uc3QgdmVyc2VDaHVuayBvZiB2ZXJzZUNodW5rcykge1xuICAgIGlmIChzZWFyY2hDaHVuay5lbmRWZXJzZSkge1xuICAgICAgaWYgKGNodW5rQ29udGFpbnNWZXJzZVJhbmdlKHZlcnNlQ2h1bmssIHNlYXJjaENodW5rLCBzdHJpY3QpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2h1bmtDb250YWluc1ZlcnNlKCB2ZXJzZUNodW5rLHNlYXJjaENodW5rLmNoYXB0ZXIsc2VhcmNoQ2h1bmsudmVyc2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7IFxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBUZXN0cyBpZiBhIHNwZWNpZmljIHZlcnNlIGNodW5rIGNvbnRhaW5zIGEgc3BlY2lmaWMgdmVyc2VcbiAqXG4gKiBAcGFyYW0ge3tjaGFwdGVyLCB2ZXJzZSwgZW5kQ2hhcHRlciwgZW5kVmVyc2V9fSB2ZXJzZUNodW5rXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaENoYXB0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hWZXJzZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiB2ZXJzZSBjaHVuayBjb250YWlucyB2ZXJzZSwgZmFsc2UgaWYgb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGNodW5rQ29udGFpbnNWZXJzZSh2ZXJzZUNodW5rLCBzZWFyY2hDaGFwdGVyLCBzZWFyY2hWZXJzZSkge1xuICBpZiAoIXZlcnNlQ2h1bmsuZW5kQ2hhcHRlcikge1xuICAgIGlmIChzZWFyY2hDaGFwdGVyID09PSB2ZXJzZUNodW5rLmNoYXB0ZXIpIHtcbiAgICAgIGlmICh2ZXJzZUNodW5rLnZlcnNlKSB7XG4gICAgICAgIGlmICghdmVyc2VDaHVuay5lbmRWZXJzZSkge1xuICAgICAgICAgIHJldHVybiBzZWFyY2hWZXJzZSA9PT0gdmVyc2VDaHVuay52ZXJzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2ZXJzZUNodW5rLmVuZFZlcnNlID09PSAnZmYnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmVyc2VDaHVuay52ZXJzZSA8PSBzZWFyY2hWZXJzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICB2ZXJzZUNodW5rLnZlcnNlIDw9IHNlYXJjaFZlcnNlICYmXG4gICAgICAgICAgICAgIHNlYXJjaFZlcnNlIDw9IHZlcnNlQ2h1bmsuZW5kVmVyc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSByZXR1cm4gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICBpZiAoXG4gICAgICB2ZXJzZUNodW5rLmNoYXB0ZXIgPD0gc2VhcmNoQ2hhcHRlciAmJlxuICAgICAgc2VhcmNoQ2hhcHRlciA8PSB2ZXJzZUNodW5rLmVuZENoYXB0ZXJcbiAgICApIHtcbiAgICAgIGlmICh2ZXJzZUNodW5rLnZlcnNlKSB7XG4gICAgICAgIGlmIChzZWFyY2hDaGFwdGVyID09PSB2ZXJzZUNodW5rLmNoYXB0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gc2VhcmNoVmVyc2UgPj0gdmVyc2VDaHVuay52ZXJzZVxuICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaENoYXB0ZXIgPT09IHZlcnNlQ2h1bmsuZW5kQ2hhcHRlcikge1xuICAgICAgICAgIHJldHVybiBzZWFyY2hWZXJzZSA8PSB2ZXJzZUNodW5rLmVuZFZlcnNlXG4gICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZVxuICAgICAgfSBlbHNlIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIFRlc3RzIGlmIGEgc3BlY2lmaWMgdmVyc2UgY2h1bmsgY29udGFpbnMgYSBzcGVjaWZpYyB2ZXJzZSByYW5nZVxuICpcbiAqIEBwYXJhbSB7e2NoYXB0ZXIsIHZlcnNlLCBlbmRDaGFwdGVyLCBlbmRWZXJzZX19IHZlcnNlQ2h1bmtUb1NlYXJjaCAtIFZlcnNlIGNodW5rIHRoYXQgd2Ugd2lsbCBzZWFyY2ggZm9yIHNlYXJjaENodW5rIHdpdGhpblxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZENoYXB0ZXIsIGVuZFZlcnNlfX0gc2VhcmNoQ2h1bmsgLSBWZXJzZSByYW5nZSBjaHVuayB3ZSBhcmUgY2hlY2tpbmcgaXMgdG8gYmUgY29udGFpbmVkIHdpdGhpbiB2ZXJzZUNodW5rVG9TZWFyY2hcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RyaWN0IC0gRmxhZyB0byBkZXRlcm1pbmUgaWYgc2VhcmNoIGNodW5rIHNob3VsZCBiZSBGVUxMWSBjb250YWluZWQgdmVyc2VDaHVua1RvU2VhcmNoLlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiB2ZXJzZSByYW5nZSBpcyBjb250YWluZWQgd2l0aGluIGEgcmVmZXJlbmNlLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGNodW5rQ29udGFpbnNWZXJzZVJhbmdlKHZlcnNlQ2h1bmssIHNlYXJjaENodW5rLCBzdHJpY3QpIHtcbiAgaWYgKCF2ZXJzZUNodW5rLmVuZENoYXB0ZXIpIHtcbiAgICBpZiAoc2VhcmNoQ2h1bmsuZW5kQ2hhcHRlcikge1xuICAgICAgcmV0dXJuIGNoYXB0ZXJSYW5nZUNvbnRhaW5lZEluQ2hhcHRlcih2ZXJzZUNodW5rLCBzZWFyY2hDaHVuaywgc3RyaWN0KVxuICAgIH1cbiAgICByZXR1cm4gY2hhcHRlclZlcnNlUmFuZ2VDb250YWluZWRJbkNoYXB0ZXIodmVyc2VDaHVuaywgc2VhcmNoQ2h1bmssIHN0cmljdClcbiAgfSBlbHNlIHtcbiAgICBpZiAoc2VhcmNoQ2h1bmsuZW5kQ2hhcHRlcikge1xuICAgICAgcmV0dXJuIGNoYXB0ZXJSYW5nZUNvbnRhaW5lZEluQ2hhcHRlclJhbmdlKFxuICAgICAgICB2ZXJzZUNodW5rLFxuICAgICAgICBzZWFyY2hDaHVuayxcbiAgICAgICAgc3RyaWN0XG4gICAgICApXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHZlcnNlQ2h1bmsuY2hhcHRlciA8PSBzZWFyY2hDaHVuay5jaGFwdGVyICYmXG4gICAgICBzZWFyY2hDaHVuay5jaGFwdGVyIDw9IHZlcnNlQ2h1bmsuZW5kQ2hhcHRlclxuICAgICkge1xuICAgICAgcmV0dXJuIGNoYXB0ZXJWZXJzZVJhbmdlQ29udGFpbmVkSW5DaGFwdGVyUmFuZ2UoXG4gICAgICAgIHZlcnNlQ2h1bmssXG4gICAgICAgIHNlYXJjaENodW5rLFxuICAgICAgICBzdHJpY3RcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQ2hlY2tzIHRvIHNlZSBpZiBjaGFwdGVyIHJhbmdlIChpLmUgMToyLTM6NiB8fCA0OjYtODoyKSBpcyBjb250YWluZWQgd2l0aGluIGNoYXB0ZXIgdmVyc2UgcmFuZ2UgKGkuZSAxOjMtNyB8fCAzOjctMTIpXG4gKlxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZFZlcnNlfX0gY2hhcHRlciAtIFZlcnNlIGNodW5rIHRoYXQgcmVwcmVzZW50cyBhIGNoYXB0ZXIgdmVyc2UgcmFuZ2UgKGkuZSAxOjMtNyB8fCAzOjctMTIpXG4gKiBAcGFyYW0ge3tjaGFwdGVyLCB2ZXJzZSwgZW5kQ2hhcHRlciwgZW5kVmVyc2V9fSBzZWFyY2hDaGFwdGVyUmFuZ2UgLSBWZXJzZSBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBjaGFwdGVyIHJhbmdlIChpLmUgMToyLTM6NiB8fCA0OjYtODoyKVxuICogQHBhcmFtIHtib29sZWFufSBzdHJpY3QgLSBGbGFnIHRvIGRldGVybWluZSBpZiBjaGFwdGVyIHJhbmdlIHNob3VsZCBiZSBGVUxMWSBjb250YWluZWQgd2l0aGluIGNoYXB0ZXIgdmVyc2UgcmFuZ2UuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB0cnVlIGlmIGNoYXB0ZXIgcmFuZ2UgaXMgd2l0aGluIGNoYXB0ZXIsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBjaGFwdGVyUmFuZ2VDb250YWluZWRJbkNoYXB0ZXIoXG4gIGNoYXB0ZXIsXG4gIHNlYXJjaENoYXB0ZXJSYW5nZSxcbiAgc3RyaWN0ID0gZmFsc2Vcbikge1xuICBpZiAoc3RyaWN0KSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgaWYgKFxuICAgICAgc2VhcmNoQ2hhcHRlclJhbmdlLmVuZENoYXB0ZXIgPCBjaGFwdGVyLmNoYXB0ZXIgfHxcbiAgICAgIHNlYXJjaENoYXB0ZXJSYW5nZS5jaGFwdGVyID4gY2hhcHRlci5jaGFwdGVyXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKHNlYXJjaENoYXB0ZXJSYW5nZS5lbmRDaGFwdGVyID09PSBjaGFwdGVyLmNoYXB0ZXIpIHtcbiAgICAgIGlmICghY2hhcHRlci52ZXJzZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKCFjaGFwdGVyLmVuZFZlcnNlICYmIHNlYXJjaENoYXB0ZXJSYW5nZS5lbmRWZXJzZSA8IGNoYXB0ZXIudmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAoY2hhcHRlci5lbmRWZXJzZSA9PT0gJ2ZmJykge1xuICAgICAgICByZXR1cm4gc2VhcmNoQ2hhcHRlclJhbmdlLmVuZFZlcnNlID49IGNoYXB0ZXIudmVyc2VcbiAgICAgIH1cbiAgICAgIGlmIChzZWFyY2hDaGFwdGVyUmFuZ2UuZW5kVmVyc2UgPCBjaGFwdGVyLnZlcnNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKHNlYXJjaENoYXB0ZXJSYW5nZS5jaGFwdGVyID09PSBjaGFwdGVyLmNoYXB0ZXIpIHtcbiAgICAgIGlmICghY2hhcHRlci52ZXJzZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKCFjaGFwdGVyLmVuZFZlcnNlKSB7XG4gICAgICAgIGlmIChzZWFyY2hDaGFwdGVyUmFuZ2UudmVyc2UgPiBjaGFwdGVyLnZlcnNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChjaGFwdGVyLmVuZFZlcnNlID09PSAnZmYnKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoc2VhcmNoQ2hhcHRlclJhbmdlLnZlcnNlID4gY2hhcHRlci5lbmRWZXJzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQ2hlY2tzIGlmIGNoYXB0ZXIgdmVyc2UgcmFuZ2UgKGkuZSAxOjMtNyB8fCAzOjctMTIpIGV4aXN0cyB3aXRoaW4gYW5vdGhlciBjaGFwdGVyIHZlcnNlIHJhbmdlXG4gKlxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZFZlcnNlfX0gY2hhcHRlclZlcnNlUmFuZ2UgLSBWZXJzZSBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBjaGFwdGVyIHZlcnNlIHJhbmdlIChpLmUgMTozLTcgfHwgMzo3LTEyKVxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZFZlcnNlfX0gc2VhcmNoUmFuZ2UgLSBWZXJzZSBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBjaGFwdGVyIHZlcnNlIHJhbmdlIChpLmUgMTozLTcgfHwgMzo3LTEyKVxuICogQHBhcmFtIHtib29sZWFufSBzdHJpY3QgLSBGbGFnIHRvIGRldGVybWluZSBpZiBjaGFwdGVyIHZlcnNlIHJhbmdlIHNob3VsZCBiZSBGVUxMWSBjb250YWluZWQgd2l0aGluIGNoYXB0ZXIgdmVyc2UgcmFuZ2UuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB0cnVlIGlmIGNoYXB0ZXIgdmVyc2UgcmFuZ2UgaXMgd2l0aGluIGNoYXB0ZXIsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBjaGFwdGVyVmVyc2VSYW5nZUNvbnRhaW5lZEluQ2hhcHRlcihcbiAgY2hhcHRlclZlcnNlUmFuZ2UsXG4gIHNlYXJjaFJhbmdlLFxuICBzdHJpY3QgPSBmYWxzZVxuKSB7XG4gIGlmIChzZWFyY2hSYW5nZS5jaGFwdGVyID09PSBjaGFwdGVyVmVyc2VSYW5nZS5jaGFwdGVyKSB7XG4gICAgaWYgKGNoYXB0ZXJWZXJzZVJhbmdlLnZlcnNlKSB7XG4gICAgICBpZiAoIWNoYXB0ZXJWZXJzZVJhbmdlLmVuZFZlcnNlKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VhcmNoUmFuZ2UuZW5kVmVyc2UgPCBjaGFwdGVyVmVyc2VSYW5nZS52ZXJzZSB8fFxuICAgICAgICAgIHNlYXJjaFJhbmdlLnZlcnNlID4gY2hhcHRlclZlcnNlUmFuZ2UudmVyc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChjaGFwdGVyVmVyc2VSYW5nZS5lbmRWZXJzZSA9PT0gJ2ZmJykge1xuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgcmV0dXJuIGNoYXB0ZXJWZXJzZVJhbmdlLnZlcnNlIDw9IHNlYXJjaFJhbmdlLnZlcnNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlYXJjaFJhbmdlLmVuZFZlcnNlID49IGNoYXB0ZXJWZXJzZVJhbmdlLnZlcnNlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2hhcHRlclZlcnNlUmFuZ2UudmVyc2UgPD0gc2VhcmNoUmFuZ2UudmVyc2UgJiZcbiAgICAgICAgICAgIHNlYXJjaFJhbmdlLmVuZFZlcnNlIDw9IGNoYXB0ZXJWZXJzZVJhbmdlLmVuZFZlcnNlXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNlYXJjaCByYW5nZSBpcyBjb21wbGV0ZWx5IGJlZm9yZSBvciBjb21wbGV0ZWx5IGFmdGVyIGNoYXB0ZXIgcmFuZ2UgdG8gc2VhcmNoXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VhcmNoUmFuZ2UuZW5kVmVyc2UgPCBjaGFwdGVyVmVyc2VSYW5nZS52ZXJzZSB8fFxuICAgICAgICAgICAgc2VhcmNoUmFuZ2UudmVyc2UgPiBjaGFwdGVyVmVyc2VSYW5nZS5lbmRWZXJzZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBDaGVja3MgaWYgY2hhcHRlciByYW5nZSAoaS5lIDE6Mi0zOjYgfHwgNDo2LTg6MikgZXhpc3RzIHdpdGhpbiBhbm90aGVyIGNoYXB0ZXIgcmFuZ2VcbiAqXG4gKiBAcGFyYW0ge3tjaGFwdGVyLCB2ZXJzZSwgZW5kQ2hhcHRlciwgZW5kVmVyc2V9fSBjaGFwdGVyUmFuZ2UgLSBWZXJzZSBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBjaGFwdGVyIHJhbmdlIChpLmUgMToyLTM6NiB8fCA0OjYtODoyKVxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZENoYXB0ZXIsIGVuZFZlcnNlfX0gcmFuZ2VTZWFyY2hDaHVuayAtIFZlcnNlIGNodW5rIHRoYXQgcmVwcmVzZW50cyBhIGNoYXB0ZXIgcmFuZ2UgKGkuZSAxOjItMzo2IHx8IDQ6Ni04OjIpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0cmljdCAtIEZsYWcgdG8gZGV0ZXJtaW5lIGlmIGNoYXB0ZXIgcmFuZ2Ugc2hvdWxkIGJlIEZVTExZIGNvbnRhaW5lZCB3aXRoaW4gY2hhcHRlciByYW5nZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSAtIHRydWUgaWYgY2hhcHRlciByYW5nZSBpcyB3aXRoaW4gY2hhcHRlciByYW5nZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGNoYXB0ZXJSYW5nZUNvbnRhaW5lZEluQ2hhcHRlclJhbmdlKFxuICBjaGFwdGVyUmFuZ2UsXG4gIHJhbmdlU2VhcmNoQ2h1bmssXG4gIHN0cmljdCA9IGZhbHNlXG4pIHtcbiAgaWYgKHN0cmljdCkge1xuICAgIGlmIChcbiAgICAgIGNoYXB0ZXJSYW5nZS5jaGFwdGVyIDw9IHJhbmdlU2VhcmNoQ2h1bmsuY2hhcHRlciAmJlxuICAgICAgcmFuZ2VTZWFyY2hDaHVuay5lbmRDaGFwdGVyIDw9IGNoYXB0ZXJSYW5nZS5lbmRDaGFwdGVyXG4gICAgKSB7XG4gICAgICBpZiAoY2hhcHRlclJhbmdlLnZlcnNlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICByYW5nZVNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5jaGFwdGVyICYmXG4gICAgICAgICAgcmFuZ2VTZWFyY2hDaHVuay5lbmRDaGFwdGVyID09PSBjaGFwdGVyUmFuZ2UuZW5kQ2hhcHRlclxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmFuZ2VTZWFyY2hDaHVuay52ZXJzZSA+PSBjaGFwdGVyUmFuZ2UudmVyc2UgJiZcbiAgICAgICAgICAgIHJhbmdlU2VhcmNoQ2h1bmsuZW5kVmVyc2UgPD0gY2hhcHRlclJhbmdlLmVuZFZlcnNlXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZVNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5jaGFwdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHJhbmdlU2VhcmNoQ2h1bmsudmVyc2UgPj0gY2hhcHRlclJhbmdlLnZlcnNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmdlU2VhcmNoQ2h1bmsuZW5kQ2hhcHRlciA9PT0gY2hhcHRlclJhbmdlLmVuZENoYXB0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmFuZ2VTZWFyY2hDaHVuay5lbmRWZXJzZSA8PSBjaGFwdGVyUmFuZ2UuZW5kVmVyc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBlbHNlIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIGlmIChcbiAgICAgIHJhbmdlU2VhcmNoQ2h1bmsuZW5kQ2hhcHRlciA8IGNoYXB0ZXJSYW5nZS5jaGFwdGVyIHx8XG4gICAgICByYW5nZVNlYXJjaENodW5rLmNoYXB0ZXIgPiBjaGFwdGVyUmFuZ2UuZW5kQ2hhcHRlclxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmIChyYW5nZVNlYXJjaENodW5rLmVuZENoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5jaGFwdGVyKSB7XG4gICAgICBpZiAoIWNoYXB0ZXJSYW5nZS52ZXJzZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKHJhbmdlU2VhcmNoQ2h1bmsuZW5kVmVyc2UgPCBjaGFwdGVyUmFuZ2UudmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyYW5nZVNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5lbmRDaGFwdGVyKSB7XG4gICAgICBpZiAoIWNoYXB0ZXJSYW5nZS52ZXJzZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKHJhbmdlU2VhcmNoQ2h1bmsudmVyc2UgPiBjaGFwdGVyUmFuZ2UuZW5kVmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQ2hlY2tzIGlmIGNoYXB0ZXIgdmVyc2UgcmFuZ2UgKGkuZSAxOjMtNyB8fCAzOjctMTIpIGV4aXN0cyB3aXRoaW4gY2hhcHRlciByYW5nZSAoaS5lIDE6Mi0zOjYgfHwgNDo2LTg6MilcbiAqXG4gKiBAcGFyYW0ge3tjaGFwdGVyLCB2ZXJzZSwgZW5kQ2hhcHRlciwgZW5kVmVyc2V9fSBjaGFwdGVyUmFuZ2UgLSBWZXJzZSBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBjaGFwdGVyIHJhbmdlIChpLmUgMToyLTM6NiB8fCA0OjYtODoyKVxuICogQHBhcmFtIHt7Y2hhcHRlciwgdmVyc2UsIGVuZFZlcnNlfX0gY2hhcHRlclNlYXJjaENodW5rIC0gVmVyc2UgY2h1bmsgdGhhdCByZXByZXNlbnRzIGEgY2hhcHRlciB2ZXJzZSByYW5nZSAoaS5lIDE6My03IHx8IDM6Ny0xMilcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RyaWN0IC0gRmxhZyB0byBkZXRlcm1pbmUgaWYgY2hhcHRlciB2ZXJzZSByYW5nZSBzaG91bGQgYmUgRlVMTFkgY29udGFpbmVkIHdpdGhpbiBjaGFwdGVyIHJhbmdlLlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBjaGFwdGVyIHZlcnNlIHJhbmdlIGlzIHdpdGhpbiBjaGFwdGVyIHJhbmdlLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gY2hhcHRlclZlcnNlUmFuZ2VDb250YWluZWRJbkNoYXB0ZXJSYW5nZShcbiAgY2hhcHRlclJhbmdlLFxuICBjaGFwdGVyU2VhcmNoQ2h1bmssXG4gIHN0cmljdFxuKSB7XG4gIGlmIChzdHJpY3QpIHtcbiAgICBpZiAoY2hhcHRlclNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5jaGFwdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcHRlclNlYXJjaENodW5rLnZlcnNlID49IGNoYXB0ZXJSYW5nZS52ZXJzZVxuICAgIH1cbiAgICBpZiAoY2hhcHRlclNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5lbmRDaGFwdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcHRlclNlYXJjaENodW5rLmVuZFZlcnNlIDw9IGNoYXB0ZXJSYW5nZS5lbmRWZXJzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIGlmIChcbiAgICAgIGNoYXB0ZXJTZWFyY2hDaHVuay5jaGFwdGVyID4gY2hhcHRlclJhbmdlLmVuZENoYXB0ZXIgfHxcbiAgICAgIGNoYXB0ZXJTZWFyY2hDaHVuay5jaGFwdGVyIDwgY2hhcHRlclJhbmdlLmNoYXB0ZXJcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoY2hhcHRlclNlYXJjaENodW5rLmNoYXB0ZXIgPT09IGNoYXB0ZXJSYW5nZS5lbmRDaGFwdGVyKSB7XG4gICAgICBpZiAoIWNoYXB0ZXJSYW5nZS52ZXJzZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKGNoYXB0ZXJTZWFyY2hDaHVuay52ZXJzZSA+IGNoYXB0ZXJSYW5nZS5lbmRWZXJzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYXB0ZXJTZWFyY2hDaHVuay5jaGFwdGVyID09PSBjaGFwdGVyUmFuZ2UuY2hhcHRlcikge1xuICAgICAgaWYgKCFjaGFwdGVyUmFuZ2UudmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChjaGFwdGVyU2VhcmNoQ2h1bmsuZW5kVmVyc2UgPCBjaGFwdGVyUmFuZ2UudmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLG9CQUFULENBQThCQyxXQUE5QixFQUEyQ0MsYUFBM0MsRUFBMEU7RUFBQSxJQUFoQkMsTUFBZ0IsdUVBQVAsS0FBTztFQUMvRSxJQUFNQyxtQkFBbUIsR0FBRyxJQUFBQyxzQ0FBQSxFQUFxQkosV0FBckIsQ0FBNUI7RUFDQSxJQUFNSyxlQUFlLEdBQUcsSUFBQUQsc0NBQUEsRUFBcUJILGFBQXJCLENBQXhCOztFQUYrRSwyQ0FJckRJLGVBSnFEO0VBQUE7O0VBQUE7SUFJL0Usb0RBQTJDO01BQUEsSUFBaENDLFdBQWdDOztNQUN6QyxJQUFJQyxvQkFBb0IsQ0FBQ0osbUJBQUQsRUFBc0JHLFdBQXRCLEVBQW1DSixNQUFuQyxDQUF4QixFQUFvRTtRQUNsRSxJQUFJLENBQUNBLE1BQUwsRUFBYSxPQUFPLElBQVA7TUFDZCxDQUZELE1BRU87UUFDTCxJQUFJQSxNQUFKLEVBQVksT0FBTyxLQUFQO01BQ2I7SUFDRjtFQVY4RTtJQUFBO0VBQUE7SUFBQTtFQUFBOztFQVcvRSxPQUFPQSxNQUFNLEdBQUcsSUFBSCxHQUFVLEtBQXZCO0FBQ0Q7O0FBRUQsU0FBU0ssb0JBQVQsQ0FBOEJDLFdBQTlCLEVBQTJDRixXQUEzQyxFQUF3REosTUFBeEQsRUFBZ0U7RUFBQSw0Q0FDckNNLFdBRHFDO0VBQUE7O0VBQUE7SUFDOUQsdURBQXNDO01BQUEsSUFBM0JDLFVBQTJCOztNQUNwQyxJQUFJSCxXQUFXLENBQUNJLFFBQWhCLEVBQTBCO1FBQ3hCLElBQUlDLHVCQUF1QixDQUFDRixVQUFELEVBQWFILFdBQWIsRUFBMEJKLE1BQTFCLENBQTNCLEVBQThEO1VBQzVELE9BQU8sSUFBUDtRQUNEO01BQ0YsQ0FKRCxNQUlPO1FBQ0wsSUFBSVUs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